{"version":3,"sources":["Components/backend module.js","Components/Persons.js","Components/SinglePerson.js","Components/Filter.js","Components/ErrorMessage.js","Components/PersonForm.js","Components/SuccessMessage.js","Components/App.js","index.js"],"names":["baseURL","personModule","getAll","axios","get","then","response","data","create","newObject","post","deleteObject","id","delete","console","log","update","updateObj","put","Persons","persons","setPersons","setErrorMessage","setSuccessMessage","map","person","name","number","onClick","window","confirm","filter","p","catch","error","SinglePerson","props","Filter","value","filterName","onChange","event","target","setFilterName","find","toLowerCase","filterPersons","ErrorMessage","message","className","PersonForm","errorMessage","onSubmit","preventDefault","newName","newNumber","PersonFound","addedPerson","concat","setNewName","setNewNumber","type","SuccessMessage","App","useState","successMessage","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.565cc70e.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst baseURL = 'http://localhost:3001/api/persons'\r\n\r\nconst create = (newObject) =>\r\n{\r\n    const request = axios.post(baseURL,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getAll = () =>\r\n{\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = (id) =>\r\n{\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response=>console.log(response.data))\r\n}\r\n\r\nconst update = (id,updateObj) =>\r\n{\r\n    const request = axios.put(`${baseURL}/${id}`,updateObj)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst personModule = {getAll,create,deleteObject,update}\r\n\r\nexport default personModule","import React from \"react\"\r\nimport personModule from \"./backend module\"\r\n\r\nconst Persons = ({persons,setPersons,setErrorMessage,setSuccessMessage}) =>\r\n{  \r\n\r\n  return(\r\n     persons.map(person => \r\n     <p key={person.name}>\r\n         {person.name} {person.number} <button onClick={\r\n             () => {\r\n             if(window.confirm(`Delete ${person.name}?`) === true)\r\n             {\r\n                personModule\r\n                .deleteObject(person.id)\r\n                .then(response => {\r\n                  setPersons(persons.filter(p => p.id !== person.id))\r\n                  setErrorMessage('')\r\n                  setSuccessMessage('')\r\n                })\r\n                .catch(error => {\r\n                  setErrorMessage('Person has been removed from server')\r\n                  setSuccessMessage('')\r\n                  })\r\n                \r\n             }\r\n            \r\n         }}>Delete</button>\r\n    </p>)\r\n  )  \r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst SinglePerson = (props) =>\r\n{\r\n    return(\r\n      <p>{props.person.name} {props.person.number}</p>\r\n    )\r\n}\r\n\r\nexport default SinglePerson","import React from \"react\"\r\nimport SinglePerson from \"./SinglePerson\"\r\n\r\nconst Filter = (props) =>\r\n{\r\n\r\n  const filterNameHandle = (event) =>\r\n  {\r\n    console.log(event.target.value)\r\n    props.setFilterName(event.target.value)\r\n    \r\n  }\r\n\r\n  const filterPersons = () => \r\n  {\r\n    const filter = props.persons.find(person => props.filterName.toLowerCase() === person.name.toLowerCase())\r\n    const NotFound = {name :'',number:''}\r\n    if( filter != null)\r\n    {\r\n      return filter\r\n    }\r\n    else\r\n    {\r\n      return NotFound\r\n    }\r\n  }\r\n\r\n\r\n  return(\r\n    <>\r\n    <p>filter shown with <input value={props.filterName} onChange={filterNameHandle} /></p>\r\n    <SinglePerson person={filterPersons()} />\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst ErrorMessage = ({message}) => \r\n{\r\n    if(message === '')\r\n    {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        \r\n        <div className='errorMessage'>{message}</div>\r\n    )\r\n\r\n}\r\n\r\nexport default ErrorMessage","import React from \"react\"\r\nimport personModule from './backend module'\r\nimport ErrorMessage from \"./ErrorMessage\"\r\n\r\nconst PersonForm = (props) =>\r\n{\r\n\r\n  const handleNumber = (event) =>\r\n  {\r\n    console.log(event.target.value)\r\n    props.setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleName = (event) =>\r\n  {\r\n    console.log(event.target.value)\r\n    props.setNewName(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) =>\r\n  {\r\n    event.preventDefault()\r\n    if(props.newName === '')\r\n    {\r\n       props.setErrorMessage('Please enter name')\r\n       props.setSuccessMessage('')\r\n        \r\n    }\r\n\r\n    else if(props.newNumber === '')\r\n    {\r\n       props.setErrorMessage('Please enter number')\r\n       props.setSuccessMessage('')\r\n    }\r\n\r\n    \r\n\r\n    else\r\n    {\r\n        props.setErrorMessage('')\r\n        const person = {name: props.newName, number: props.newNumber}\r\n        const PersonFound = props.persons.find(p => (p.name === person.name))\r\n        console.log(PersonFound)\r\n        if(PersonFound)\r\n        {\r\n           if(window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)=== true)\r\n           {\r\n                personModule\r\n                    .update(PersonFound.id,person)\r\n                    .then(response => \r\n                      {\r\n                        props.setPersons(props.persons.map(p => p.id !== response.id ? p:response ))\r\n                        props.setSuccessMessage('Number replaced Successfully')\r\n\r\n                      })\r\n                    .catch(error => {\r\n                      props.setErrorMessage(\"Person removed from server\")\r\n                      props.setSuccessMessage('')\r\n                      })\r\n                    \r\n            }\r\n           \r\n        }\r\n\r\n        else\r\n        {\r\n            personModule\r\n                .create(person)\r\n                .then(addedPerson =>\r\n                  {\r\n                    props.setPersons(props.persons.concat(addedPerson))\r\n                    props.setSuccessMessage('Person added successfully')\r\n\r\n                  })\r\n                .catch(error => props.setErrorMessage(error.response.data['error']))\r\n        }\r\n\r\n        props.setNewName('')\r\n        props.setNewNumber('')\r\n    }\r\n\r\n  }\r\n\r\n  return(\r\n    <>\r\n    <ErrorMessage message={props.errorMessage} />\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        <p>name: <input value={props.newName} onChange={handleName} /></p>\r\n        <p>number: <input value={props.newNumber} onChange={handleNumber} /></p>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst SuccessMessage = ({message}) => \r\n{\r\n    if(message === '')\r\n    {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        \r\n        <div className='successMessage'>{message}</div>\r\n    )\r\n\r\n}\r\n\r\nexport default SuccessMessage","import React, { useState,useEffect } from 'react'\nimport Persons from './Persons'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport personModule from './backend module'\nimport SuccessMessage from './SuccessMessage'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState('')\n\n  useEffect(() => {\n    personModule\n      .getAll()\n      .then(persons => setPersons(persons))\n  },[])\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessMessage message={successMessage}/>\n      <Filter persons={persons} filterName={filterName} setFilterName={setFilterName}/>\n      <h3>Add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName}\n      newNumber={newNumber} setNewNumber={setNewNumber} errorMessage={errorMessage} setErrorMessage={setErrorMessage}\n      setSuccessMessage={setSuccessMessage} successMessage={successMessage}/>\n      <h3>Numbers</h3>\n      <Persons persons={persons} setPersons={setPersons} setErrorMessage={setErrorMessage} setSuccessMessage={setSuccessMessage} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}